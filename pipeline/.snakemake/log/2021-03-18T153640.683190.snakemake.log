Building DAG of jobs...
Relative file path './Snakefile' starts with './'. This is redundant and strongly discouraged. It can also lead to inconsistent results of the file-matching approach used by Snakemake. You can simply omit the './' for relative file paths.
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	create_snake_file
	1

[Thu Mar 18 15:36:40 2021]
rule create_snake_file:
    output: ./Snakefile
    jobid: 0

[Thu Mar 18 15:36:40 2021]
Error in rule create_snake_file:
    jobid: 0
    output: ./Snakefile
    shell:
        
        source `dirname ./creation_snakefile.snk`/define_env.sh;
        path_to_pipline=`dirname ./creation_snakefile.snk`

        printf "%s
" "[96m [SNK] CREATION SNAKEFILE [0m"

        if [ False = "True" ]; then

            ##Exemple les instruction par default obligatoir
            printf "%s" "flye_genome > polishing > ragoo " > instruction.txt

            ##Creation du snake file en fonction des instructions
            python3 ${path_to_pipline}/lib/python/make_snk.py                 instruction.txt                 ${path_to_pipline}/list_rules.snk                 ${path_to_pipline}/Snakefile                 -t ${path_to_pipline}/template.snk

            snakemake --snakefile ${path_to_pipline}/Snakefile --configfile c.yaml --dryrun
            snakemake --snakefile ${path_to_pipline}/Snakefile --configfile c.yaml || echo "ERROR PIPELINE";

        fi;


        if [ True = "True" ]; then
            
            ##Exemple les instruction par default obligatoir
            printf "%s" "mapping > samtools > sniffles > blast > extract_read " > instruction.txt
            
            ##Depend du fichier de config
            if [ False = "True" ]; then
                printf "%s" "> assembly_flye "  >> instruction.txt
            fi;

            ##Depend du fichier de config
            if [ False = "True" ]; then
                printf "%s" "> assembly_wdtgb "  >> instruction.txt
            fi;
            
            ##Exemple les instruction par default obligatoir
            printf "%s\n" "> get_TE_seq > TSD" >> instruction.txt

            ##Creation du snake file en fonction des instructions
            python3 ${path_to_pipline}/lib/python/make_snk.py                 instruction.txt                 ${path_to_pipline}/list_rules.snk                 ${path_to_pipline}/Snakefile                 -t ${path_to_pipline}/template.snk

            printf "%s\n" "[96m [SNK] CREATION SNAKEFILE DONE ! [0m"

            printf "%s\n\n" "[96m [SNK] RUNNING SNAKEFILE [0m"

            #statements
            snakemake --snakefile ${path_to_pipline}/Snakefile --configfile c.yaml --dryrun
            snakemake --snakefile ${path_to_pipline}/Snakefile --configfile c.yaml || echo "ERROR PIPELINE";

        fi;

        
        (exited with non-zero exit code)

Removing output files of failed job create_snake_file since they might be corrupted:
./Snakefile
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /home/mourdas/Documents/5-GIT/TrEMOLO/pipeline/.snakemake/log/2021-03-18T153640.683190.snakemake.log
